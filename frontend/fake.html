<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Bharat Election Forensic Portal</title>
    <style>
        :root {
            --eci-blue: #003366;
            --alert-red: #b71c1c;
            --bg-gray: #f2f4f7;
            --safe-top: env(safe-area-inset-top);
            --nav-height: calc(65px + var(--safe-top));
        }

        * { 
            box-sizing: border-box; 
            margin: 0; padding: 0; 
            font-family: 'Segoe UI', Roboto, sans-serif; 
            -webkit-tap-highlight-color: transparent;
        }
        
        body, html { 
            height: 100%; width: 100%; overflow: hidden; 
            background: #fff; 
            overscroll-behavior: none;
            -webkit-user-select: none;
            user-select: none;
        }

        /* --- LOADING & ANTI-GLIMPSE STYLES --- */
        #initial-loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 9999; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.6s ease;
        }

        /* This prevents the content from being seen before the delay */
        .case-content {
            opacity: 0;
            height: 100%; width: 100%;
            display: flex; flex-direction: column;
            transition: opacity 0.8s ease;
        }

        /* Class added by JS after delay */
        .case-content.revealed {
            opacity: 1 !important;
        }

        .fetch-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 1000;
            display: none; flex-direction: column; align-items: center; justify-content: center;
        }

        .fetch-overlay.active { display: flex; }

        .pulse-ring {
            width: 40px; height: 40px; border: 3px solid var(--eci-blue);
            border-radius: 50%; animation: pulse 1.5s infinite;
        }

        @keyframes pulse { 0% { transform: scale(0.95); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

        /* --- ORIGINAL LAYOUT STYLES --- */
        .official-nav {
            position: fixed; top: 0; width: 100%; height: var(--nav-height);
            background: #fff; border-bottom: 3px solid var(--eci-blue);
            z-index: 2000; display: flex; align-items: flex-end; 
            padding: 0 15px 12px 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .nav-content { display: flex; align-items: center; width: 100%; gap: 15px; }
        .back-btn { text-decoration: none; color: var(--eci-blue); font-size: 28px; font-weight: 300; display: flex; align-items: center; }
        .nav-brand { display: flex; align-items: center; gap: 10px; }
        .emblem { height: 32px; }
        .nav-title h1 { font-size: 13px; color: var(--eci-blue); font-weight: 800; text-transform: uppercase; }
        .nav-title p { font-size: 9px; color: #d32f2f; font-weight: 700; }

        .viewport-snap {
            height: 100svh; overflow-y: scroll; 
            scroll-snap-type: y mandatory; background: #fff;
            -webkit-overflow-scrolling: touch;
        }
        .viewport-snap::-webkit-scrollbar { display: none; }

        .case-section {
            height: 100svh; width: 100%;
            scroll-snap-align: start; scroll-snap-stop: always;
            display: flex; flex-direction: column;
            background: #fff; position: relative;
        }

        .media-container {
    width: 100%;
    /* This ensures the height is always 9/16ths of the width */
    aspect-ratio: 4 / 3; 
    background: #000;
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
    margin-top: var(--nav-height);
}

.main-img {
    width: 100%;
    height: 100%;
    /* 'contain' shows the full image; 'cover' fills the box. 
       Since we fixed the container to 16:9, either works well 
       if your images are exactly 16:9. */
    object-fit: cover; 
    object-position: center;
}
        
        .report-pane { 
            flex: 1; padding: 20px 15px; display: flex; flex-direction: column; 
            background: #fff; padding-bottom: calc(30px + env(safe-area-inset-bottom));
            z-index: 10;
        }
        
        .stamp-verdict {
            width: fit-content; padding: 4px 10px; border: 2.5px solid var(--alert-red);
            color: var(--alert-red); font-weight: 900; font-size: 11px;
            text-transform: uppercase; transform: rotate(-1.5deg); margin-bottom: 12px;
        }

        .headline { font-size: 18px; font-weight: 800; color: #111; margin-bottom: 8px; line-height: 1.2; }
        .brief { font-size: 13px; color: #444; line-height: 1.5; margin-bottom: 15px; }

        .evidence-table { width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 40px; }
        .evidence-table th { background: #f8f9fa; text-align: left; padding: 6px 8px; border: 1px solid #ddd; color: #666; text-transform: uppercase; font-size: 9px; }
        .evidence-table td { padding: 8px; border: 1px solid #ddd; font-weight: 600; vertical-align: top; }
        .key { width: 30%; color: #777; background: #fafafa; }

        .scroll-hint {
            position: absolute; bottom: calc(30px + env(safe-area-inset-bottom));
            left: 50%; transform: translateX(-50%);
            display: flex; flex-direction: column; align-items: center;
            opacity: 0; transition: opacity 0.5s ease; pointer-events: none; z-index: 100; width: 60px;
        }

        .arrow-icon {
            width: 42px; height: 18px; display: block;
            color: #444; margin: -4px 0;
            animation: bounceArrows 2.5s infinite;
        }

        @keyframes bounceArrows {
            0%, 100% { transform: translateY(0); opacity: 0.2; color: #999; }
            50% { transform: translateY(10px); opacity: 1; color: #333; }
        }

        .show-hint { opacity: 1 !important; }

        .refresh-btn {
            height: 52px; background: var(--eci-blue); 
            color: #fff; border: none; font-weight: 800; border-radius: 4px;
            width: 100%; font-size: 14px; margin-top: auto;
        }
    </style>
</head>
<body>

    <div id="initial-loader">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" style="height: 80px; margin-bottom: 20px; opacity: 0.8;">
        <div style="width: 200px; height: 4px; background: #eee; border-radius: 10px; overflow: hidden; margin-bottom: 15px;">
            <div id="progress-bar" style="width: 0%; height: 100%; background: var(--eci-blue); transition: width 0.3s ease;"></div>
        </div>
        <p id="loader-text" style="font-size: 11px; font-weight: 800; color: var(--eci-blue); text-transform: uppercase; letter-spacing: 1px;">Scanning News Feed...</p>
    </div>

    <nav class="official-nav">
        <div class="nav-content">
            <a href="home.html" class="back-btn">←</a>
            <div class="nav-brand">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" class="emblem">
                <div class="nav-title">
                    <h1>Bharat Mat</h1>
                    <p>ELECTION INTEGRITY 2025-26</p>
                </div>
            </div>
        </div>
    </nav>

    <div class="viewport-snap" id="main-scroller">
        
        <section class="case-section" id="case-1">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://www.boomlive.in/h-upload/2025/02/26/1040572-nirmala-003.webp" class="main-img" alt="Screenshot of a deepfake video call">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">AI DEEPFAKE DETECTED</div>
                    <h2 class="headline">FM Sitharaman "Quantum AI" Investment Scheme</h2>
                    <p class="brief">A viral video shows Finance Minister Nirmala Sitharaman endorsing an investment platform promising ₹40,000 in 24 hours. The video is a synthetic fabrication.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">AUDIO</td><td>ElevenLabs AI speech classifier shows 48% probability of cloning.</td></tr>
                        <tr><td class="key">VISUALS</td><td>Neck overlaps with hand unnaturally; torso disconnects during breathing.</td></tr>
                        <tr><td class="key">SOURCE</td><td>Video hijacked from a "Modi Story" clip and dubbed with AI voice.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-2">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://wpblogassets.paytm.com/paytmblog/uploads/2023/05/Blog_Paytm_What-is-EPIC-Number-in-Voter-ID-Card.jpg" class="main-img" alt="Official Election Commission of India website homepage">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">FALSE CLAIM</div>
                    <h2 class="headline">Mandatory ECINet Voter Re-verification</h2>
                    <p class="brief">Claims suggest that the new ECINet portal is mandatory for all voters to "stay registered." This is a misunderstanding of the portal's function.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">FUNCTION</td><td>ECINet is a suggestion/feedback portal, not a registry database.</td></tr>
                        <tr><td class="key">DEADLINE</td><td>Jan 10 is for citizen suggestions, not voter eligibility.</td></tr>
                        <tr><td class="key">ECI STATUS</td><td>Official FAQ confirms registration remains through voters.eci.gov.in.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-3">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://www.newsonair.gov.in/wp-content/uploads/2026/01/free.png" class="main-img" alt="A fake WhatsApp message promoting a government freebie scheme">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">FAKE: PHISHING SCAM</div>
                    <h2 class="headline">PM's "Free Gold & Vehicles" Announcement</h2>
                    <p class="brief">A video circulating on Jan 8th claims PM Modi is gifting gold coins and electric bikes to citizens. The link leads to a data-harvesting site.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">LIP-SYNC</td><td>High latency detected between audio and facial movement.</td></tr>
                        <tr><td class="key">URL AUDIT</td><td>Links to non-gov domains aimed at stealing Aadhaar/PAN data.</td></tr>
                        <tr><td class="key">PIB VERDICT</td><td>Confirmed as AI-generated misinformation on Jan 4 & 8, 2026.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-4" data-batch="true">
            <div class="fetch-overlay"><div class="pulse-ring"></div><p style="margin-top: 15px; font-size: 11px; font-weight: 800; color: var(--eci-blue);">FETCHING VERIFIED ALERTS...</p></div>
            <div class="case-content">
                <div class="media-container">
                    <img src="https://media.assettype.com/thequint%2F2026-01-04%2Fkfubgbq2%2FAbhishekWQ5-27.jpg?auto=format%2Ccompress&fmt=webp&width=720&w=1200" class="main-img" alt="Reserve Bank of India (RBI) headquarters building in Mumbai">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">MISLEADING RUMOR</div>
                    <h2 class="headline">RBI to Ban ₹500 Notes in ATMs by March</h2>
                    <p class="brief">Viral posts claim ₹500 notes will be phased out from ATMs by March 31, 2026. This stems from a misinterpretation of new ATM guidelines.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">RBI POLICY</td><td>Directive is to *increase* ₹100/₹200 notes, not remove ₹500.</td></tr>
                        <tr><td class="key">STATUS</td><td>₹500 remains legal tender with no plans for withdrawal.</td></tr>
                        <tr><td class="key">DATE SOURCED</td><td>Rumor originated from a misinterpreted "Capital TV" report.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-5">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://organiser.org/wp-content/uploads/2026/01/featureimage22-1767873146.webp" class="main-img" alt="Enforcement Directorate (ED) officials during a raid">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">NARRATIVE MISINFORMATION</div>
                    <h2 class="headline">I-PAC Raids: Claims of Data Theft vs Deletion</h2>
                    <p class="brief">TMC alleges ED "wiped" internal election strategy disks during raids on Pratik Jain. ED alleges CM Banerjee removed physical evidence.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">DIGITAL PATH</td><td>ED confirmed cloning of hard drives; no "wiping" protocol used.</td></tr>
                        <tr><td class="key">CCTV LOGS</td><td>Conflict at the site (Jan 8) being reviewed by Calcutta High Court.</td></tr>
                        <tr><td class="key">VERDICT</td><td>Both "stolen data" and "deleted files" claims are unverified political rhetoric.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-6">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://assets.upstox.com/content/assets/images/news/mixcollage-07-jan-2026-09-04-am-2759.webp" class="main-img" style="object-fit: contain; background: #f0f0f0;" alt="A forged US government document with a fake seal">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">FORGED DOCUMENT</div>
                    <h2 class="headline">US Tariff "Target List" for Indian Firms</h2>
                    <p class="brief">A leaked PDF listing 50 Indian companies facing 500% US tariffs for Russian oil trade. The document uses fake US Trade Representative headers.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">HEADER</td><td>Font mismatch in seal; office address listed is outdated (2020).</td></tr>
                        <tr><td class="key">BILL STATUS</td><td>US Bill allows *up to* 500% but no specific list is authorized yet.</td></tr>
                        <tr><td class="key">MARKET IMPACT</td><td>Manipulated to trigger panic selling in energy stocks.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-7" data-batch="true">
            <div class="fetch-overlay"><div class="pulse-ring"></div><p style="margin-top: 15px; font-size: 11px; font-weight: 800; color: var(--eci-blue);">REFRESHING ALERT DATA...</p></div>
            <div class="case-content">
                <div class="media-container">
                    <img src="https://assets.hmtvlive.com/h-upload/2026/01/08/403198-bomb-1.webp" class="main-img" alt="The High Court of Andhra Pradesh building">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">SECURITY HOAX</div>
                    <h2 class="headline">Coordinated "Bomb Scare" at AP District Courts</h2>
                    <p class="brief">Mails received on Jan 8th threatened blasts at Eluru and Ananthapur courts. Viral audio claimed the blasts were linked to political trials.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">IP TRACE</td><td>Threat emails originated from a proxy server in Eastern Europe.</td></tr>
                        <tr><td class="key">SEARCH</td><td>Zero explosives found; court proceedings resumed Jan 9th.</td></tr>
                        <tr><td class="key">INTENT</td><td>Designed to delay hearing of multi-crore coal pilferage cases.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-8">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://www.jagranimages.com/images/newimg/21032025/21_03_2025-pm-kusum-yojna_23903494.jpg" class="main-img" alt="Solar panels installed on agricultural land in India">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">FINANCIAL MISINFORMATION</div>
                    <h2 class="headline">Termination of Solar Subsidies after US Exit</h2>
                    <p class="brief">Rumors claim that following the US exit from the International Solar Alliance (ISA), India will scrap PM-KUSUM solar grants.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">FUNDING</td><td>ISA is a facilitator; PM-KUSUM is funded by the Indian Union Budget.</td></tr>
                        <tr><td class="key">IMPACT</td><td>US contribution was $2.1M; India’s solar goal is $1,000B—no dependency.</td></tr>
                        <tr><td class="key">STATUS</td><td>Subsidy cycles for 2026-27 are already cabinet-approved.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-9">
            <div class="case-content">
                <div class="media-container">
                    <img src="https://www.boomlive.in/h-upload/2024/09/17/1033418-defence-ministry-01.jpg" class="main-img" style="object-fit: contain; background: #f0f0f0;" alt="A fake government job appointment letter">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">ACTIVE SCAM</div>
                    <h2 class="headline">Ministry of Personnel "Scam Rectification" Letters</h2>
                    <p class="brief">Scammers are sending fake appointment letters to victims of the "Railway Job Scam," claiming the ED has authorized their hiring.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">AUTHORITY</td><td>ED has no mandate to issue government joining letters.</td></tr>
                        <tr><td class="key">EMAIL</td><td>Sent from 'rectify-gov.in'—official is nic.in or gov.in.</td></tr>
                        <tr><td class="key">FEES</td><td>Asks for "security clearance deposit" via UPI—illegal protocol.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section" id="case-10" data-batch="true">
            <div class="fetch-overlay"><div class="pulse-ring"></div><p style="margin-top: 15px; font-size: 11px; font-weight: 800; color: var(--eci-blue);">FINALIZING ALERT STREAM...</p></div>
            <div class="case-content">
                <div class="media-container">
                    <img src="https://media.assettype.com/deccanherald%2F2026-01-06%2Fwabzwsrh%2FJana-Nayagan-1.jpg?w=undefined&auto=format%2Ccompress&fit=max" class="main-img" style="object-position: top;" alt="Actor Vijay at a public gathering">
                </div>
                <div class="report-pane">
                    <div class="stamp-verdict">FALSE: POSTPONEMENT ONLY</div>
                    <h2 class="headline">Government "Ban" on Vijay's 'Jana Nayagan'</h2>
                    <p class="brief">Posts allege the Central Govt banned the film due to its political nature. The film was scheduled for Jan 9th release.</p>
                    <table class="evidence-table">
                        <tr><th>Parameter</th><th>Forensic Evidence</th></tr>
                        <tr><td class="key">LEGAL</td><td>Madras High Court reserved orders; no "ban" issued by the Centre.</td></tr>
                        <tr><td class="key">REASON</td><td>Postponed due to unresolved certification (CBFC) issues.</td></tr>
                        <tr><td class="key">OFFICIAL</td><td>Makers confirmed on Jan 7 that release is delayed, not cancelled.</td></tr>
                    </table>
                </div>
                <div class="scroll-hint"><svg class="arrow-icon" viewBox="0 0 24 24" fill="none"><path d="M4 9L12 17L20 9" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
            </div>
        </section>
        
        <section class="case-section">
            <div class="case-content">
                <div class="media-container"><img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80&w=1000" class="main-img" alt="A secure data center representing verified logs"></div>
                <div class="report-pane">
                    <div class="stamp-verdict" style="border-color:#2e7d32; color:#2e7d32;">FORENSIC LOGS CLEAR</div>
                    <h2 class="headline">Daily Integrity Report Complete</h2>
                    <p class="brief">You have reviewed all significant Jan 5-9 misinformation flags. These records are verified by PIB and the ECI Digital Cell.</p>
                    <button class="refresh-btn" onclick="location.reload()">REFRESH LIVE FEED</button>
                </div>
            </div>
        </section>
    </div>

    <script>
        const scroller = document.getElementById('main-scroller');
        const sections = document.querySelectorAll('.case-section');
        let idleTimer;
        let activeSection = sections[0];

        // 1. Initial 4s Delay Logic
        window.addEventListener('load', () => {
            let progress = 0;
            const bar = document.getElementById('progress-bar');
            const text = document.getElementById('loader-text');
            const statuses = ["Syncing News Databases...", "Verifying Fact-Checks...", "Filtering Misinformation...", "Feed Secured."];
            
            const interval = setInterval(() => {
                progress += 5;
                bar.style.width = progress + "%";
                if(progress % 25 === 0) text.innerText = statuses[Math.floor(progress/26)];
                
                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('initial-loader').style.opacity = '0';
                        setTimeout(() => {
                            document.getElementById('initial-loader').remove();
                            // Reveal first batch immediately after loader
                            document.querySelectorAll('#case-1 .case-content, #case-2 .case-content, #case-3 .case-content').forEach(c => c.classList.add('revealed'));
                        }, 600);
                        restartInactivityTimer();
                    }, 400);
                }
            }, 180); 
        });

        // 2. Progressive 2.5s Batch Delay Logic
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    activeSection = entry.target;
                    const content = activeSection.querySelector('.case-content');

                    if (activeSection.dataset.batch === "true" && !activeSection.dataset.loaded) {
                        const overlay = activeSection.querySelector('.fetch-overlay');
                        overlay.classList.add('active');
                        
                        setTimeout(() => {
                            overlay.classList.remove('active');
                            content.classList.add('revealed');
                            activeSection.dataset.loaded = "true";
                        }, 2500); 
                    } else if (content) {
                        // For non-batch sections, reveal immediately when seen
                        content.classList.add('revealed');
                    }
                    restartInactivityTimer();
                }
            });
        }, { threshold: 0.6 });

        function hideAllHints() {
            document.querySelectorAll('.scroll-hint').forEach(h => h.classList.remove('show-hint'));
        }

        function restartInactivityTimer() {
            clearTimeout(idleTimer);
            hideAllHints();
            if (activeSection && !activeSection.querySelector('.refresh-btn')) {
                idleTimer = setTimeout(() => {
                    const hint = activeSection.querySelector('.scroll-hint');
                    if (hint) hint.classList.add('show-hint');
                }, 5000); 
            }
        }

        sections.forEach(s => observer.observe(s));
        scroller.addEventListener('scroll', restartInactivityTimer, {passive: true});
        scroller.addEventListener('touchstart', hideAllHints, {passive: true});
    </script>
    <script src="chatbot.js"></script>

</body>
</html>