<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CitizenPortal | Dashboard</title>
    <style>
        :root {
            --gov-blue: #003366;
            --gov-orange: #ff9933;
            --bg-gray: #f4f7f9;
            --text-dark: #1a1a1a;
            --border-heavy: 2px solid #000;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', -apple-system, sans-serif;
            -webkit-tap-highlight-color: transparent;
            /* Disable selection for native feel */
            -webkit-user-select: none;
            user-select: none;
        }

        body, html {
            height: 100%;
            width: 100%;
            overflow: hidden;
            background: var(--bg-gray);
            color: var(--text-dark);
            /* Prevent bounce scrolling */
            overscroll-behavior: none;
        }

        .app-container {
            height: 100dvh;
            display: flex;
            flex-direction: column;
        }

        /* --- Header with Safe Area (Notch) Support --- */
        .gov-header {
            background: #fff;
            border-bottom: 3px solid var(--gov-orange);
            /* Padding top handles the hidden status bar area */
            padding: calc(10px + env(safe-area-inset-top)) 15px 10px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .header-left { display: flex; align-items: center; gap: 10px; }
        .emblem { height: 28px; }
        .agency { display: block; font-weight: 900; font-size: 13px; color: #000; }
        .dept { font-size: 9px; color: #666; text-transform: uppercase; font-weight: 700; }

        .header-right { display: flex; align-items: center; gap: 6px; }
        .cp-text { font-size: 11px; font-weight: 700; color: #444; }
        .cp-logo-sq { width: 22px; height: 22px; background: #000; color: #fff; font-size: 9px; font-weight: 900; display: flex; align-items: center; justify-content: center; border-radius: 4px; }

        /* --- Main Dashboard Area --- */
        .main-view {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            /* Extra padding to clear bottom navigation */
            padding-bottom: calc(90px + env(safe-area-inset-bottom));
        }

        /* User Profile Strip */
        .profile-strip {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        .user-meta h1 { font-size: 18px; font-weight: 900; }
        .user-meta p { font-size: 11px; color: #666; font-family: monospace; }
        .verify-badge { background: #e8f5e9; color: #2e7d32; padding: 4px 10px; font-size: 10px; font-weight: 900; border: 1px solid #2e7d32; }

        /* Service Grid */
        .service-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .nav-card {
            background: #fff;
            border: var(--border-heavy);
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
            transition: transform 0.1s;
        }
        .nav-card:active { transform: scale(0.96); background: #f0f0f0; }
        
        .icon-circle { font-size: 24px; }
        .nav-card h3 { font-size: 14px; font-weight: 900; color: #000; }
        .nav-card p { font-size: 10px; color: #666; line-height: 1.3; }
        
        .badge { position: absolute; top: 10px; right: 10px; background: red; color: white; font-size: 10px; padding: 2px 6px; border-radius: 10px; font-weight: 700; }

        /* Info Banner */
        .alert-banner {
            background: #fff3e0;
            border: 2px solid #ff9800;
            padding: 12px;
            font-size: 12px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* --- Chatbot Widget Styles --- */
#bnn-chat-wrapper {
    position: fixed;
    bottom: 25px;
    right: 25px;
    z-index: 5000;
    font-family: 'Inter', sans-serif;
}

/* The Floating Button */
#chat-trigger {
    width: 60px;
    height: 60px;
    background: #002D58; /* Matches your Gov-Blue */
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
}

#chat-trigger:hover { transform: scale(1.1); }

/* The Chat Window */
#chat-window {
    position: absolute;
    bottom: 80px;
    right: 0;
    width: 320px;
    height: 450px;
    background: #fff;
    border-radius: 12px;
    border: 1px solid rgba(0,0,0,0.1);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    display: none; /* Hidden by default */
    flex-direction: column;
    overflow: hidden;
    animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Chat Header */
.chat-header {
    background: #002D58;
    color: white;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.chat-header h4 { font-size: 13px; font-weight: 700; text-transform: uppercase; margin: 0; }

/* Chat Body */
#chat-messages {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    background: #f8f9fa;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.msg {
    max-width: 80%;
    padding: 10px 12px;
    border-radius: 8px;
    font-size: 13px;
    line-height: 1.4;
}
.msg.bot { background: #e9ecef; color: #333; align-self: flex-start; border-bottom-left-radius: 2px; }
.msg.user { background: #002D58; color: white; align-self: flex-end; border-bottom-right-radius: 2px; }

/* Chat Input */
.chat-input-area {
    padding: 12px;
    border-top: 1px solid #eee;
    display: flex;
    gap: 8px;
}
.chat-input-area input {
    flex: 1;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 8px;
    font-size: 13px;
    outline: none;
}

        /* --- Bottom Navigation --- */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            /* env handles the bottom handle/gesture bar on new phones */
            height: calc(70px + env(safe-area-inset-bottom));
            background: #fff;
            border-top: 2px solid #000;
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            padding-top: 10px;
            z-index: 100;
        }

        .nav-item { display: flex; flex-direction: column; align-items: center; gap: 5px; color: #888; text-decoration: none; }
        .nav-item.active { color: var(--gov-blue); }
        .nav-item span { font-size: 10px; font-weight: 700; text-transform: uppercase; }
        .nav-icon { font-size: 20px; }

    </style>
</head>
<body>

    <div class="app-container">
        <header class="gov-header">
            <div class="header-left">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" alt="Emblem" class="emblem">
                <div class="header-text">
                    <span class="agency">CITIZEN PORTAL</span>
                    <span class="dept">Digital India Initiative</span>
                </div>
            </div>
            <div class="header-right">
                <span class="cp-text">CitizenPortal</span>
                <div class="cp-logo-sq">CP</div>
            </div>
        </header>

        <main class="main-view">
            
            <section class="profile-strip">
                <div class="user-meta">
                    <h1>John Sharma</h1>
                    <p>ID: EPIC/XYZ8829</p>
                </div>
                <div class="verify-badge">VERIFIED</div>
            </section>

            <div class="alert-banner">
                <span>üì¢</span>
                <p>New Election Guidelines for 2025 have been published. Read carefully.</p>
            </div>

            <div class="service-grid">
                <div class="nav-card" onclick="navigateTo('fake.html')">
                    <div class="icon-circle">‚öñÔ∏è</div>
                    <h3>Fact Check</h3>
                    <p>Verify viral news & Deepfake scans.</p>
                </div>

                <div class="nav-card" onclick="navigateTo('noti.html')">
                    <div class="icon-circle">üîî</div>
                    <h3>Alerts</h3>
                    <p>Government orders & live updates.</p>
                    <div class="badge">3</div>
                </div>

                <div class="nav-card" onclick="navigateTo('camp.html')">
                    <div class="icon-circle">‚õ∫</div>
                    <h3>Camps</h3>
                    <p>Find nearby document verification camps.</p>
                </div>

                <div class="nav-card" onclick="navigateTo('lab.html')">
                    <div class="icon-circle">üß™</div>
                    <h3>Lab Results</h3>
                    <p>Official health & forensic reports.</p>
                </div>

                <div class="nav-card" onclick="navigateTo('real.html')">
                    <div class="icon-circle">üß™</div>
                    <h3>Latest News</h3>
                    <p>Official news</p>
                </div>
            </div>

        </main>

        <nav class="bottom-nav">
            <a href="#" class="nav-item active">
                <div class="nav-icon">üè†</div>
                <span>Home</span>
            </a>
            <a href="fake.html" class="nav-item">
                <div class="nav-icon">üîç</div>
                <span>Verify</span>
            </a>
            <a href="#" class="nav-item">
                <div class="nav-icon">üë§</div>
                <span>Profile</span>
            </a>
        </nav>
    </div>

    <script>
        function navigateTo(url) {
            if (window.navigator.vibrate) {
                window.navigator.vibrate(40);
            }
            
            setTimeout(() => {
                window.location.href = url;
            }, 100);
        }

        // Lock viewport to maintain "App Feel"
        document.body.addEventListener('touchmove', function(e) {
            if (e.target.closest('.main-view')) return;
            e.preventDefault();
        }, { passive: false });
    </script>
    <script src="chatbot.js"></script>

</body>
</html>